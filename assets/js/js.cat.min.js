(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g);};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable();
};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;
if(!f){return d;}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement;});
};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0;}if(typeof d=="function"){d={onAfter:d};}if(f=="max"){f=9000000000;}d=c.extend({},a.defaults,d);
e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2;}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");
switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break;}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset();
}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);
if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0;}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s];
}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u;}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g);}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst);
}delete k[v];}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d);});}}).end();};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;
if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]();}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o]);
};function b(d){return typeof d=="object"?d:{top:d,left:d};}})(jQuery);(function(d){var c=d.serialScroll=function(a){return d(window).serialScroll(a);};
c.defaults={duration:1000,axis:"x",event:"click",start:0,step:1,lock:!0,cycle:!0,constant:!0};d.fn.serialScroll=function(a){return this.each(function(){var v=d.extend({},c.defaults,a),w=v.event,G=v.step,x=v.lazy,K=v.target?this:document,b=d(v.target||this,K),z=b[0],C=v.items,H=v.start,I=v.interval,E=v.navigation,D;
if(!x){C=L();}if(v.force){J({},H);}d(v.prev||[],K).bind(w,-G,y);d(v.next||[],K).bind(w,G,y);if(!z.ssbound){b.bind("prev.serialScroll",-G,y).bind("next.serialScroll",G,y).bind("goto.serialScroll",J);
}if(I){b.bind("start.serialScroll",function(e){if(!I){A();I=!0;B();}}).bind("stop.serialScroll",function(){A();I=!1;});}b.bind("notify.serialScroll",function(e,f){var g=F(f);
if(g>-1){H=g;}});z.ssbound=!0;if(v.jump){(x?b:L()).bind(w,function(e){J(e,F(e.target));});}if(E){E=d(E,K).bind(w,function(e){e.data=Math.round(L().length/E.length)*E.index(this);
J(e,this);});}function y(e){e.data+=H;J(e,this);}function J(g,i){if(!isNaN(i)){g.data=i;i=z;}var f=g.data,m,e=g.type,h=v.exclude?L().slice(0,-v.exclude):L(),j=h.length,l=h[f],k=v.duration;
if(e){g.preventDefault();}if(I){A();D=setTimeout(B,v.interval);}if(!l){m=f<0?0:j-1;if(H!=m){f=m;}else{if(!v.cycle){return;}else{f=j-m-1;}}l=h[f];}if(!l||v.lock&&b.is(":animated")||e&&v.onBefore&&v.onBefore(g,l,b,L(),f)===!1){return;
}if(v.stop){b.queue("fx",[]).stop();}if(v.constant){k=Math.abs(k/G*(H-f));}b.scrollTo(l,k,v).trigger("notify.serialScroll",[f]);}function B(){b.trigger("next.serialScroll");
}function A(){clearTimeout(D);}function L(){return d(C,z);}function F(f){if(!isNaN(f)){return f;}var e=L(),g;while((g=e.index(f))==-1&&f!=z){f=f.parentNode;
}return g;}});};})(jQuery);(function(d){var a=location.href.replace(/#.*/,"");var c=d.localScroll=function(e){d("body").localScroll(e);};c.defaults={duration:1000,axis:"y",event:"click",stop:true,target:window,reset:true};
c.hash=function(f){if(location.hash){f=d.extend({},c.defaults,f);f.hash=false;if(f.reset){var g=f.duration;delete f.duration;d(f.target).scrollTo(0,f);
f.duration=g;}b(0,location,f);}};d.fn.localScroll=function(e){e=d.extend({},c.defaults,e);return e.lazy?this.bind(e.event,function(g){var h=d([g.target,g.target.parentNode]).filter(f)[0];
if(h){b(g,h,e);}}):this.find("a,area").filter(f).bind(e.event,function(g){b(g,this,e);}).end().end();function f(){return !!this.href&&!!this.hash&&this.href.replace(this.hash,"")==a&&(!e.filter||d(this).is(e.filter));
}};function b(i,p,g){var q=p.hash.slice(1),o=document.getElementById(q)||document.getElementsByName(q)[0];if(!o){return;}if(i){i.preventDefault();}var n=d(g.target);
if(g.lock&&n.is(":animated")||g.onBefore&&g.onBefore.call(g,i,o,n)===false){return;}if(g.stop){n.stop(true);}if(g.hash){var m=o.id==q?"id":"name",l=d("<a> </a>").attr(m,q).css({position:"absolute",top:d(window).scrollTop(),left:d(window).scrollLeft()});
o[m]="";d("body").prepend(l);location=p.hash;l.remove();o[m]=q;}n.scrollTo(o,g).trigger("notify.serialScroll",[o]);}})(jQuery);
/*! fancyBox v2.0.4 fancyapps.com | fancyapps.com/fancybox/#license */
(function(d,i,j){var c=j(d),h=j(i),b=j.fancybox=function(){b.open.apply(this,arguments);
},g=!1,f=null;j.extend(b,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!j.browser.msie||6<j.browser.version||!i.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(j.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,e){j.isArray(a)||(a=[a]);
if(a.length){b.close(!0),b.opts=j.extend(!0,{},b.defaults,e),b.group=a,b._start(b.opts.index||0);}},cancel:function(){if(!(b.coming&&!1===b.trigger("onCancel"))&&(b.coming=null,b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload)){b.imgPreload.onload=b.imgPreload.onabort=b.imgPreload.onerror=null;
}},close:function(a){b.cancel();if(b.current&&!1!==b.trigger("beforeClose")){b.unbindEvents(),!b.isOpen||a&&!0===a[0]?(j(".fancybox-wrap").stop().trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,j(".fancybox-item").remove(),b.wrap.stop(!0).removeClass("fancybox-opened"),b.inner.css("overflow","hidden"),b.transitions[b.current.closeMethod]());
}},play:function(a){var l=function(){clearTimeout(b.player.timer);},k=function(){l();if(b.current&&b.player.isActive){b.player.timer=setTimeout(b.next,b.current.playSpeed);
}},e=function(){l();j("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd");};if(b.player.isActive||a&&!1===a[0]){e();}else{if(b.current&&(b.current.loop||b.current.index<b.group.length-1)){b.player.isActive=!0,j("body").bind({"afterShow.player onUpdate.player":k,"onCancel.player beforeClose.player":e,"beforeLoad.player":l}),k(),b.trigger("onPlayStart");
}}},next:function(){b.current&&b.jumpto(b.current.index+1);},prev:function(){b.current&&b.jumpto(b.current.index-1);},jumpto:function(a){b.current&&(a=parseInt(a,10),1<b.group.length&&b.current.loop&&(a>=b.group.length?a=0:0>a&&(a=b.group.length-1)),"undefined"!==typeof b.group[a]&&(b.cancel(),b._start(a)));
},reposition:function(a){b.isOpen&&b.wrap.css(b._getPosition(a));},update:function(){b.isOpen&&(g||(f=setInterval(function(){if(g&&(g=!1,clearTimeout(f),b.current)){if(b.current.autoSize){b.inner.height("auto"),b.current.height=b.inner.height();
}b._setDimension();b.current.canGrow&&b.inner.height("auto");b.reposition();b.trigger("onUpdate");}},100)),g=!0);},toggle:function(){if(b.isOpen){b.current.fitToView=!b.current.fitToView,b.update();
}},hideLoading:function(){j("#fancybox-loading").remove();},showLoading:function(){b.hideLoading();j('<div id="fancybox-loading"></div>').click(b.cancel).appendTo("body");
},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:c.width(),h:c.height()};},unbindEvents:function(){b.wrap&&b.wrap.unbind(".fb");h.unbind(".fb");
c.unbind(".fb");},bindEvents:function(){var a=b.current,e=a.keys;a&&(c.bind("resize.fb, orientationchange.fb",b.update),e&&h.bind("keydown.fb",function(k){var l;
if(!k.ctrlKey&&!k.altKey&&!k.shiftKey&&!k.metaKey&&0>j.inArray(k.target.tagName.toLowerCase(),["input","textarea","select","button"])){l=k.keyCode,-1<j.inArray(l,e.close)?(b.close(),k.preventDefault()):-1<j.inArray(l,e.next)?(b.next(),k.preventDefault()):-1<j.inArray(l,e.prev)&&(b.prev(),k.preventDefault());
}}),j.fn.mousewheel&&a.mouseWheel&&1<b.group.length&&b.wrap.bind("mousewheel.fb",function(k,m){var l=j(k.target).get(0);if(0===l.clientHeight||l.scrollHeight===l.clientHeight){k.preventDefault(),b[0<m?"prev":"next"]();
}}));},trigger:function(a){var k,e=b[-1<j.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(e){j.isFunction(e[a])&&(k=e[a].apply(e,Array.prototype.slice.call(arguments,1)));
if(!1===k){return !1;}e.helpers&&j.each(e.helpers,function(m,l){if(l&&"undefined"!==typeof b.helpers[m]&&j.isFunction(b.helpers[m][a])){b.helpers[m][a](l,e);
}});j.event.trigger(a+".fb");}},isImage:function(e){return e&&e.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i);},isSWF:function(e){return e&&e.match(/\.(swf)(.*)?$/i);
},_start:function(a){var o={},n=b.group[a]||null,l,m,e;if("object"===typeof n&&(n.nodeType||n instanceof j)){l=!0,j.metadata&&(o=j(n).metadata());}o=j.extend(!0,{},b.opts,{index:a,element:n},j.isPlainObject(n)?n:o);
j.each(["href","title","content","type"],function(k,p){o[p]=b.opts[p]||l&&j(n).attr(p)||o[p]||null;});if("number"===typeof o.margin){o.margin=[o.margin,o.margin,o.margin,o.margin];
}o.modal&&j.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});
b.coming=o;if(!1===b.trigger("beforeLoad")){b.coming=null;}else{m=o.type;a=o.href;if(!m){l&&(e=j(n).data("fancybox-type"),!e&&n.className&&(m=(e=n.className.match(/fancybox\.(\w+)/))?e[1]:null)),!m&&a&&(b.isImage(a)?m="image":b.isSWF(a)?m="swf":a.match(/^#/)&&(m="inline")),m||(m=l?"inline":"html"),o.type=m;
}"inline"===m||"html"===m?(o.content=o.content||("inline"===m&&a?j(a):n),o.content.length||(m=null)):(o.href=a||n,o.href||(m=null));o.group=b.group;"image"===m?b._loadImage():"ajax"===m?b._loadAjax():m?b._afterLoad():b._error("type");
}},_error:function(a){j.extend(b.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:a,content:b.coming.tpl.error});b._afterLoad();},_loadImage:function(){b.imgPreload=new Image;
b.imgPreload.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width;b.coming.height=this.height;b._afterLoad();};b.imgPreload.onerror=function(){this.onload=this.onerror=null;
b._error("image");};b.imgPreload.src=b.coming.href;b.imgPreload.complete||b.showLoading();},_loadAjax:function(){b.showLoading();b.ajaxLoad=j.ajax(j.extend({},b.coming.ajax,{url:b.coming.href,error:function(a,e){"abort"!==e?b._error("ajax",a):b.hideLoading();
},success:function(a,e){if("success"===e){b.coming.content=a,b._afterLoad();}}}));},_preload:function(){var a=b.group,k=b.current.index,e=function(l){if(l&&b.isImage(l)){(new Image).src=l;
}};1<a.length&&(e(j(a[k+1]||a[0]).attr("href")),e(j(a[k-1]||a[a.length-1]).attr("href")));},_afterLoad:function(){b.hideLoading();!b.coming||!1===b.trigger("afterLoad",b.current)?b.coming=!1:(b.isOpened?(j(".fancybox-item").remove(),b.wrap.stop(!0).removeClass("fancybox-opened"),b.inner.css("overflow","hidden"),b.transitions[b.current.prevMethod]()):(j(".fancybox-wrap").stop().trigger("onReset").remove(),b.trigger("afterClose")),b.unbindEvents(),b.isOpen=!1,b.current=b.coming,b.coming=!1,b.wrap=j(b.current.tpl.wrap).addClass("fancybox-tmp "+b.current.wrapCSS).appendTo("body"),b.outer=j(".fancybox-outer",b.wrap).css("padding",b.current.padding+"px"),b.inner=j(".fancybox-inner",b.wrap),b._setContent(),b.trigger("beforeShow"),b._setDimension(),b.wrap.hide().removeClass("fancybox-tmp"),b.bindEvents(),b._preload(),b.transitions[b.isOpened?b.current.nextMethod:b.current.openMethod]());
},_setContent:function(){var a,l,k=b.current,e=k.type;switch(e){case"inline":case"ajax":case"html":a=k.content;"inline"===e&&a instanceof j&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),j(b.wrap).bind("onReset",function(){a.appendTo("body").hide();
}));if(k.autoSize){l=j('<div class="fancybox-tmp"></div>').appendTo(j("body")).append(a),k.width=l.outerWidth(),k.height=l.outerHeight(!0),a=l.contents().detach(),l.remove();
}break;case"image":a=k.tpl.image.replace("{href}",k.href);k.aspectRatio=!0;break;case"swf":a=k.tpl.swf.replace(/\{width\}/g,k.width).replace(/\{height\}/g,k.height).replace(/\{href\}/g,k.href);
break;case"iframe":a=k.tpl.iframe.replace("{href}",k.href).replace("{scrolling}",k.scrolling).replace("{rnd}",(new Date).getTime());}if(-1<j.inArray(e,["image","swf","iframe"])){k.autoSize=!1,k.scrolling=!1;
}b.inner.append(a);},_setDimension:function(){var B=b.wrap,A=b.outer,z=b.inner,x=b.current,y=b.getViewport(),t=x.margin,v=2*x.padding,w=x.width+v,u=x.height+v,s=x.width/x.height,e=x.maxWidth,r=x.maxHeight,q=x.minWidth,a=x.minHeight;
y.w-=t[1]+t[3];y.h-=t[0]+t[2];-1<w.toString().indexOf("%")&&(w=y.w*parseFloat(w)/100);-1<u.toString().indexOf("%")&&(u=y.h*parseFloat(u)/100);x.fitToView&&(e=Math.min(y.w,e),r=Math.min(y.h,r));
q=Math.min(w,q);a=Math.min(w,a);e=Math.max(q,e);r=Math.max(a,r);x.aspectRatio?(w>e&&(w=e,u=(w-v)/s+v),u>r&&(u=r,w=(u-v)*s+v),w<q&&(w=q,u=(w-v)/s+v),u<a&&(u=a,w=(u-v)*s+v)):(w=Math.max(q,Math.min(w,e)),u=Math.max(a,Math.min(u,r)));
w=Math.round(w);u=Math.round(u);j(B.add(A).add(z)).width("auto").height("auto");z.width(w-v).height(u-v);B.width(w);t=B.height();if(w>e||t>r){for(;(w>e||t>r)&&w>q&&t>a;
){u-=10,x.aspectRatio?(w=Math.round((u-v)*s+v),w<q&&(w=q,u=(w-v)/s+v)):w-=10,z.width(w-v).height(u-v),B.width(w),t=B.height();}}x.dim={width:w,height:t};
x.canGrow=x.autoSize&&u>a&&u<r;x.canShrink=!1;x.canExpand=!1;if(w-v<x.width||u-v<x.height){x.canExpand=!0;}else{if((w>y.w||t>y.h)&&w>q&&u>a){x.canShrink=!0;
}}B=t-v;b.innerSpace=B-z.height();b.outerSpace=B-A.height();},_getPosition:function(a){var q=b.current,p=b.getViewport(),o=q.margin,n=b.wrap.width()+o[1]+o[3],l=b.wrap.height()+o[0]+o[2],m={position:"absolute",top:o[0]+p.y,left:o[3]+p.x};
if(q.fixed&&(!a||!1===a[0])&&l<=p.h&&n<=p.w){m={position:"fixed",top:o[0],left:o[3]};}m.top=Math.ceil(Math.max(m.top,m.top+(p.h-l)*q.topRatio))+"px";m.left=Math.ceil(Math.max(m.left,m.left+0.5*(p.w-n)))+"px";
return m;},_afterZoomIn:function(){var a=b.current;b.isOpen=b.isOpened=!0;b.wrap.addClass("fancybox-opened").css("overflow","visible");b.update();b.inner.css("overflow","auto"===a.scrolling?"auto":"yes"===a.scrolling?"scroll":"hidden");
if(a.closeClick||a.nextClick){b.inner.css("cursor","pointer").bind("click.fb",a.nextClick?b.next:b.close);}a.closeBtn&&j(a.tpl.closeBtn).appendTo(b.wrap).bind("click.fb",b.close);
a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&j(a.tpl.prev).appendTo(b.wrap).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&j(a.tpl.next).appendTo(b.wrap).bind("click.fb",b.next));
b.trigger("afterShow");if(b.opts.autoPlay&&!b.player.isActive){b.opts.autoPlay=!1,b.play();}},_afterZoomOut:function(){b.trigger("afterClose");b.wrap.trigger("onReset").remove();
j.extend(b,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null});}});b.transitions={getOrigPosition:function(){var a=b.current.element,m={},l=50,e=50,k;
a&&a.nodeName&&j(a).is(":visible")?(k=j(a).find("img:first"),k.length?(m=k.offset(),l=k.outerWidth(),e=k.outerHeight()):m=j(a).offset()):(a=b.getViewport(),m.top=a.y+0.5*(a.h-e),m.left=a.x+0.5*(a.w-l));
return m={top:Math.ceil(m.top)+"px",left:Math.ceil(m.left)+"px",width:Math.ceil(l)+"px",height:Math.ceil(e)+"px"};},step:function(a,n){var m,l,k;if("width"===n.prop||"height"===n.prop){l=k=Math.ceil(a-2*b.current.padding),"height"===n.prop&&(m=(a-n.start)/(n.end-n.start),n.start>n.end&&(m=1-m),l-=b.innerSpace*m,k-=b.outerSpace*m),b.inner[n.prop](l),b.outer[n.prop](k);
}},zoomIn:function(){var a=b.wrap,l=b.current,k,e;k=l.dim;if("elastic"===l.openEffect){e=j.extend({},k,b._getPosition(!0));delete e.position;k=this.getOrigPosition();
if(l.openOpacity){k.opacity=0,e.opacity=1;}a.css(k).show().animate(e,{duration:l.openSpeed,easing:l.openEasing,step:this.step,complete:b._afterZoomIn});
}else{a.css(j.extend({},k,b._getPosition())),"fade"===l.openEffect?a.fadeIn(l.openSpeed,b._afterZoomIn):(a.show(),b._afterZoomIn());}},zoomOut:function(){var a=b.wrap,k=b.current,e;
if("elastic"===k.closeEffect){"fixed"===a.css("position")&&a.css(b._getPosition(!0));e=this.getOrigPosition();if(k.closeOpacity){e.opacity=0;}a.animate(e,{duration:k.closeSpeed,easing:k.closeEasing,step:this.step,complete:b._afterZoomOut});
}else{a.fadeOut("fade"===k.closeEffect?k.closeSpeed:0,b._afterZoomOut);}},changeIn:function(){var a=b.wrap,k=b.current,e;"elastic"===k.nextEffect?(e=b._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",a.css(e).show().animate({opacity:1,top:"+=200px"},{duration:k.nextSpeed,complete:b._afterZoomIn})):(a.css(b._getPosition()),"fade"===k.nextEffect?a.hide().fadeIn(k.nextSpeed,b._afterZoomIn):(a.show(),b._afterZoomIn()));
},changeOut:function(){var a=b.wrap,k=b.current,e=function(){j(this).trigger("onReset").remove();};a.removeClass("fancybox-opened");"elastic"===k.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:k.prevSpeed,complete:e}):a.fadeOut("fade"===k.prevEffect?k.prevSpeed:0,e);
}};b.helpers.overlay={overlay:null,update:function(){var e,k;this.overlay.width(0).height(0);j.browser.msie?(e=Math.max(i.documentElement.scrollWidth,i.body.scrollWidth),k=Math.max(i.documentElement.offsetWidth,i.body.offsetWidth),e=e<k?c.width():e):e=h.width();
this.overlay.width(e).height(h.height());},beforeShow:function(a){if(!this.overlay){this.overlay=j('<div id="fancybox-overlay"></div>').css(a.css||{background:"black"}).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",b.close),c.bind("resize.fb",j.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn||"fast",a.opacity||1);
}},onUpdate:function(){this.update();},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||"fast",function(){j(this).remove();});this.overlay=null;
}};b.helpers.title={beforeShow:function(a){var e;if(e=b.current.title){e=j('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+e+"</div>").appendTo("body"),"float"===a.type&&(e.width(e.width()),e.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(parseInt(e.css("margin-bottom"),10))),e.appendTo("over"===a.type?b.inner:"outside"===a.type?b.wrap:b.outer);
}}};j.fn.fancybox=function(a){function l(m){var p=[],n,o=this.rel;if(!m.ctrlKey&&!m.altKey&&!m.shiftKey&&!m.metaKey){m.preventDefault(),m=j(this).data("fancybox-group"),"undefined"!==typeof m?n=m?"data-fancybox-group":!1:o&&""!==o&&"nofollow"!==o&&(m=o,n="rel"),n&&(p=e.length?j(e).filter("["+n+'="'+m+'"]'):j("["+n+'="'+m+'"]')),p.length?(k.index=p.index(this),b.open(p.get(),k)):b.open(this,k);
}}var k=a||{},e=this.selector||"";e?h.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",l):j(this).unbind("click.fb-start").bind("click.fb-start",l);
return this;};})(window,document,jQuery);$(document).ready(function(){var p=false,i=false,t=false,c="",h="",v="",q=null;if(location.hash){g();}else{if(location.search){u();
}else{l();}}function g(){h=location.hash.replace("#","");if((h=="blog")||(h=="about")||(h=="projects")){f();d();$.localScroll.hash({axis:"x",target:"#moduleContainer",duration:0,onBefore:function(x,w){$(w).removeClass("minimized");
},onAfter:function(w){$(".contentArea").not(w).addClass("minimized");$("html, body").scrollTop(0);}});if(location.search){location.search="";}}else{if((location.hash)&&(location.search)){location.hash="";
u();}else{location.hash="";l();}}}function u(){switch(location.search.split("?")[1].split("=")[0]){case"id":v=location.search.split("=")[1];h="permalink";
d();$("html, body").scrollTop(0);$(".contentArea").not("#permalink").addClass("minimized");m();function x(){f();}itld=setTimeout(x,5000);break;case"post":t=location.search.split("=")[1];
f();$("#blogNav ."+t).parent().addClass("active");$("#blogNav a.eye").parent().slideDown();h="blog";d();$("#moduleContainer").scrollTo($("#blog"),0,{offset:{top:-500,left:0}});
$(".contentArea").not("#blog").addClass("minimized");break;case"project":var w=location.search.split("=")[1];o(w);$("#projectNav ."+w).parent().addClass("active");
$("#projectNav a.eye").parent().slideDown();h="projects";d();$("#moduleContainer").scrollTo($("#projects"),0,{offset:{top:-500,left:0}});$(".contentArea").not("#projects").addClass("minimized");
function x(){f();}itld=setTimeout(x,5000);break;case"search":i=location.search.split("=")[1];f();$("#blogNav a.eye").parent().slideDown();h="blog";d();
$("#moduleContainer").scrollTo($("#blog"),0,{offset:{top:-500,left:0}});$(".contentArea").not("#blog").addClass("minimized");break;default:window.location="http://bradmallow.com/";
}}function l(){f();h="blog";d();$("#moduleContainer").scrollTo($("#blog"),0,{offset:{top:-500,left:0}});$(".contentArea").not("#blog").addClass("minimized");
}$("nav").localScroll({axis:"x",target:"#moduleContainer",duration:300,hash:true,onBefore:function(x,w){$(w).removeClass("minimized");},onAfter:function(w){$(".contentArea").not(w).addClass("minimized");
$("html, body").scrollTop(0);}});function d(){switch(h){case"permalink":c=0;break;case"blog":c=1;break;case"about":c=2;break;case"projects":c=3;break;}b();
}function n(){switch(c){case 1:h="blog";break;case 2:h="about";break;case 3:h="projects";break;}location.hash="";$("#"+h).removeClass("minimized");$("#moduleContainer").scrollTo($("#"+h),300,{offset:{top:-500,left:0}});
$(".contentArea").not("#"+h).addClass("minimized");b();}function b(){if(c!=p){$("nav li").removeAttr("class");$("nav a."+h).parent().addClass("this");setTimeout(e,500);
}r();}function r(){p=c;h="";}function f(){var x=$("#blog .post").not(".loadMsg, .error").length;if(t){var w="http://briznad.tumblr.com/api/read/json?num=5&type="+t+"&start="+x;
}else{if(i){var w="http://briznad.tumblr.com/api/read/json?num=50&search="+i+"&start="+x;}else{var w="http://briznad.tumblr.com/api/read/json?num=5&start="+x;
}}$.getScript(w,function(){if((i)&&(tumblr_api_read.posts=="")){$("#blog .post.error").remove();$("#infiniteScrollLoadMsg").hide();$("#postsArea").html('<div class="post error round module"><div class="moduleHead"><div class="moduleType round"><i class="error"></i><span class="visually-hidden">Error</span></div><h4>Oh Noes!</h4></div><div class="moduleBody"><div class="caption"><p>There aren\'t any posts that match your search term. Would you rather <a title="Show all posts" href="http://bradmallow.com/">view all posts</a> instead?</p></div></div></div>');
}else{var y="";$.each(tumblr_api_read.posts,function(C,D){y+='<div id="'+D.id+'" class="post '+D.type+' round module"><div class="moduleHead"><a href="?type='+D.type+'" title="Show all '+D.type+' posts" class="moduleType round"><i class="'+D.type+'"></i><span class="visually-hidden">'+D.type+'</span></a><div class="date"><h5><a title="Permalink" href="?id='+D.id+'">'+D.date.replace(/\s\d{2}:\d{2}:\d{2}$/,"")+' <i class="permalink"></i></a></h5></div></div><div class="moduleBody';
switch(D.type){case"photo":y+=' center">';if(D.photos.length!=0){y+='<div class="slideshow"><div class="imageContainer"><ul style="width:'+D.photos.length*425+'px;"></ul></div><div class="slideControls"><ul><li><a><i class="slideshow prev"></i><span class="visually-hidden">Previous Image</span></a></li><li><a><i class="slideshow autoPlay pause"></i><span class="visually-hidden">Play or Pause Slideshow</span></a></li><li><a><i class="slideshow next"></i><span class="visually-hidden">Next Image</span></a></li></ul></div></div>';
var B="";$.each(D.photos,function(F,E){B+='<li><a href="?id='+D.id+'"><img src="'+E["photo-url-400"]+'" /></a>';if(E.caption!=""){B+='<div class="imageCaption">'+E.caption+"</div>";
}B+="</li>";});function A(){j(B,D.id);}sld=setTimeout(A,1000);}else{if(D["photo-url-1280"].match("gif")){y+='<a href="?id='+D.id+'"><img alt="'+D.slug+'" src="'+D["photo-url-1280"]+'"></a>';
}else{y+='<a href="?id='+D.id+'"><img alt="'+D.slug+'" src="'+D["photo-url-400"]+'"></a>';}}y+='<div class="caption">'+D["photo-caption"]+"</div></div></div>";
break;case"link":y+='"><a href="'+D["feed-item"]+'"><h4>'+D["link-text"]+'</h4></a><div class="caption">'+D["link-description"]+"</div></div></div>";break;
case"quote":y+='"><p><span class="openDoubleQuotes">&ldquo;</span><span class="quotation">'+D["quote-text"]+'</span></p><div class="caption">&mdash; '+D["quote-source"]+"</div></div></div>";
break;case"video":y+=' center">'+D["video-player"]+'<div class="caption">'+D["video-caption"]+"</div></div></div>";break;case"audio":y+='">'+D["audio-player"]+'<div class="caption">'+D["audio-caption"]+"</div></div></div>";
break;case"regular":y+='">';if((D["regular-title"]!="")&&(D["regular-title"]!=null)&&(D["regular-title"]!="null")){y+="<h4>"+D["regular-title"]+"</h4>";
}y+='<div class="caption">';var z=D["regular-body"].split("</p>");if(z.length>3){y+=z[0]+"</p>"+z[1]+'</p><div class="readMore"><a href="?id='+D.id+'">Read More&hellip;</a></div>';
}else{y+=D["regular-body"];}y+="</div></div></div>";break;}if(tumblr_api_read.posts.length==C+1){if(y!=""){$("#blog .post.error").remove();$("#infiniteScrollLoadMsg").hide();
$("#postsArea").append(y);$("#blog .post.text .caption p:has(img)").addClass("center");s();if(($("#blog .post").not(".loadMsg, .error").length==tumblr_api_read["posts-total"])||(i)){$(window).unbind("scroll.infiniteScroll");
}}else{}}});}});dtl=setTimeout(k,3500);}function o(w){$("#projects .project").not("."+w).remove();if($("#projects .activeProjects").nextUntil(".pastProjects",".project").length===0){$("#projects .activeProjects").remove();
}if($("#projects .pastProjects").nextAll(".project").length===0){$("#projects .pastProjects").remove();}}function j(w,x){$("#"+x+" .slideshow .imageContainer ul").html(w);
$("#"+x+" .slideshow").serialScroll({target:".imageContainer",items:"li",axis:"x",interval:4500,stop:true,constant:false,duration:1250,force:true});$("#"+x+" a .prev").click(function(){$("#"+x+" .imageContainer").trigger("prev");
});$("#"+x+" a .next").click(function(){$("#"+x+" .imageContainer").trigger("next");});$("#"+x+" a .autoPlay").toggle(function(){$(this).removeClass("pause").addClass("play");
$("#"+x+" .imageContainer").trigger("stop");},function(){$(this).removeClass("play").addClass("pause");$("#"+x+" .imageContainer").trigger("start");});
$("#"+x+" .imageContainer").hover(function(){$("#"+x+" a .autoPlay").removeClass("pause").addClass("play");$("#"+x+" .imageContainer").trigger("stop");
},function(){$("#"+x+" a .autoPlay").removeClass("play").addClass("pause");$("#"+x+" .imageContainer").trigger("start");});}function k(){if(typeof(tumblr_api_read)=="undefined"){$("#infiniteScrollLoadMsg").hide();
$("#postsArea").append('<div class="post error round module"><div class="moduleHead"><div class="moduleType round"><i class="error"></i><span class="visually-hidden">Error</span></div><h4>Oh Noes!</h4></div><div class="moduleBody"><div class="caption"><p>There aren\'t any posts to show right now. You, or I, or both of us might be experiencing an issue with the internets. Please try back in a bit.</p></div></div></div>');
}}function m(){$.getScript("http://briznad.tumblr.com/api/read/json?id="+v,function(){var w="";$.each(tumblr_api_read.posts,function(z,A){w+='<div id="'+A.id+'" class="post '+A.type+' round module"><div class="moduleHead"><div class="moduleType round"><i class="'+A.type+'"></i><span class="visually-hidden">'+A.type+'</span></div><div class="date"><h5>'+A.date.replace(/\s\d{2}:\d{2}:\d{2}$/,"")+'</h5></div></div><div class="moduleBody';
switch(A.type){case"photo":w+=' center">';if(A.photos.length!=0){w+='<div class="slideshow"><div class="imageContainer"><ul style="width:'+A.photos.length*620+'px;"></ul></div><div class="slideControls"><ul><li><a><i class="slideshow prev"></i><span class="visually-hidden">Previous Image</span></a></li><li><a><i class="slideshow autoPlay pause"></i><span class="visually-hidden">Play or Pause Slideshow</span></a></li><li><a><i class="slideshow next"></i><span class="visually-hidden">Next Image</span></a></li></ul></div></div>';
var y="";$.each(A.photos,function(C,B){y+='<li><a href="'+B["photo-url-1280"]+'"><img src="'+B["photo-url-1280"]+'" /></a>';if(B.caption!=""){y+='<div class="imageCaption">'+B.caption+"</div>";
}y+="</li>";});function x(){j(y,A.id);}sld=setTimeout(x,500);}else{w+='<a href="'+A["photo-url-1280"]+'"><img alt="'+A.slug+'" src="'+A["photo-url-1280"]+'"></a>';
}w+='<div class="caption">'+A["photo-caption"]+"</div></div></div>";break;case"link":w+='"><a href="'+A["feed-item"]+'"><h4>'+A["link-text"]+'</h4></a><div class="caption">'+A["link-description"]+"</div></div></div>";
break;case"quote":w+='"><p><span class="openDoubleQuotes">&ldquo;</span><span class="quotation">'+A["quote-text"]+'</span></p><div class="caption">&mdash; '+A["quote-source"]+"</div></div></div>";
break;case"video":w+=' center">'+A["video-source"]+'<div class="caption">'+A["video-caption"]+"</div></div></div>";break;case"audio":w+='">'+A["audio-player"]+'<div class="caption">'+A["audio-caption"]+"</div></div></div>";
break;case"regular":w+='">';if((A["regular-title"]!="")&&(A["regular-title"]!=null)&&(A["regular-title"]!="null")){w+="<h4>"+A["regular-title"]+"</h4>";
}w+='<div class="caption">'+A["regular-body"]+"</div></div></div>";break;}if((tumblr_api_read.posts.length==z+1)&&(w!="")){$("#singlePostArea").html(w);
$("#permalink .post.text .caption p:has(img)").addClass("center");}});});dtl=setTimeout(k,3500);}function a(){var y=true,w="",x=function(){y=true;};$(document).keydown(function(z){if((y==true)&&(!$(z.target).is("input"))&&(!$(z.target).is("textarea"))){switch(z.which){case 37:if(p>1){c=p-1;
n();}else{c=3;n();}break;case 39:if(p!=3){c=p+1;n();}else{c=1;n();}break;case 66:w="b";break;case 82:w+="r";break;case 65:w+="a";break;case 68:w+="d";if(w=="brad"){$("html").toggleClass("beautifuluniquesnowflake");
w="";}break;default:y=false;ks=setTimeout(x,1500);w="";}}});}if(document.documentElement.clientWidth>950){$("html").addClass("scrollXhide");}$("nav a").click(function(){h=$(this).attr("class");
d();});function s(){var w=document.documentElement.scrollHeight-document.documentElement.clientHeight-50;$(window).bind("scroll.infiniteScroll",function(){if(($(window).scrollTop()>w)&&($("nav .blog").parent().hasClass("this"))){$("#infiniteScrollLoadMsg").show();
f();$(window).unbind("scroll.infiniteScroll");}});}function e(){if($("nav .blog").parent().hasClass("this")){var x=$(".backToTopButtonArea").offset();var w=x.top-25;
$(window).bind("scroll.floatToTopButton",function(){if($(window).scrollTop()>w){if($(".backToTop:hidden").length==1){$(".backToTop").css("left",x.left).fadeIn("slow").addClass("block").click(function(){$.scrollTo({top:0,left:0},{duration:750},{axis:"y"});
});}$(".backToTop").addClass("floater");}else{$(".backToTop").removeClass("floater");}});}else{$(window).unbind("scroll.floatToTopButton");}}a();$(".search form").submit(function(x){x.preventDefault();
var w=$(this).serialize();if(w.split("=")[1]!=""){location.search=w;}});$("a.fancyBox").fancybox();$(window).load(function(){$(".project-sample, i.social").addClass("delayed");
});});